<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="./dc-schedule-partial.html">

<!--
`dc-schedule`
A schedule view

@demo demo/index.html
-->

<dom-module id="dc-schedule">
  <template>
    <custom-style>
      <style is="custom-style">
        :host {
          display: block;
          font-family: 'Roboto', 'Noto', sans-serif;
          -webkit-font-smoothing: antialiased;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        #date {
          background-color: rgba(236,239,241,0.4);
          color: rgba(0,0,0,0.55);
          padding: 24px;
        }
        #scheduler {
          width: 100%;
          text-align: center;
        }
        h1 {
          font-size: 45px;
          font-weight: 400;
          letter-spacing: -.018em;
          line-height: 48px;
        }
        h2 {
          font-size: 16px;
          font-weight: 400;
          line-height: 24px;
        }
        p {
          color: rgba(0,0,0,0.7);
        }
        .day {
          margin: 0;
        }
        .monthDate {
          margin: 0;
        }
      </style>
    </custom-style>
    <section id="date">
      <h2 class="day">[[getWeekday(date)]]</h2>
      <h1 class="monthDate">[[getMonth(date)]] [[getDay(date)]]</h1>
    </section>
    <section id="scheduler">
      <p>No events planned...</p>
      <dc-schedule-partial events="[[events]]"></dc-schedule-partial>
    </section>
  </template>

  <script>
    class DCSchedule extends Polymer.Element {
      static get is() { return 'dc-schedule'; }
      static get properties() {
        return {
          date: {
            type: Date,
            value: new Date()
          },
          days: {
            type: Array,
            value: ['Sunday',
                  'Monday',
                  'Tuesday',
                  'Wednesday',
                  'Thursday',
                  'Friday',
                  'Saturday']
          },
          months: {
            type: Array,
            value:  ["January", "February", "March", "April", "May", "June",
              "July", "August", "September", "October", "November", "December"
            ]
          },
          events: {
            type: Array,
            value: []
          }
        };
      }
      getWeekday(date) {
        return this.days[date.getDay()];
      }
      getMonth(date) {
        return this.months[date.getMonth()];
      }
      getDay(date) {
        return date.getDate();
      }
      connectedCallback() {
        super.connectedCallback();
        this.events = [
          {
            name: 'Keynote',
            description: 'The keynote speech',
            location: 'Grand Hall',
            start: new Date(2013, 2, 1, 12, 20),
            end: new Date(2013, 2, 1, 13, 50)
          },
          {
            name: 'Redux Talk',
            description: 'Flux Guise',
            location: 'AB123',
            start: new Date(2013, 2, 1, 13, 20),
            end: new Date(2013, 2, 1, 14, 50)
          },
          {
            name: 'Polymer Talk',
            description: 'Web components Guise',
            location: 'Grand Hall',
            start: new Date(2013, 2, 1, 14, 20),
            end: new Date(2013, 2, 1, 15, 50)
          }
        ];
        console.log(this.events);
      }
    }

    window.customElements.define(DCSchedule.is, DCSchedule);
  </script>
</dom-module>
